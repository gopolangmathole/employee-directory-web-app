<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">

<!-- Fontawesome CSS -->
<link
	href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
	rel="stylesheet">

</head>


<body>
	<nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top" style="box-shadow: 0px 2.5px 8px #c1c1c1;">
        <div class="container">
            <a class="navbar-brand" th:href="@{/employees/list}">Employee Directory</a>

            <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>

          <div class="collapse navbar-collapse" id="navbarNav">

              <ul class="navbar-nav ml-1 text-center">
                  <li class="nav-item ml-1">
                      <a class="nav-link active" th:href="@{/employees/list}">Home <span th:if="${number!=0}" class="badge badge-pill badge-primary rounded" th:text="${number}"></span></a>
                  </li>
                  <li  class="nav-item ml-1">
                      <a class="nav-link" th:href="@{/employees/api}">Api <span class="badge badge-pill badge-success rounded" style ="background-color:#00c853 !important">5</span></a>
                  </li>
                  <li  class="nav-item ml-1">
                      <a class="nav-link" th:href="@{/employees/viewReport}">Reports 
	                      <span th:if="${reports!=0}" class="badge badge-pill badge-danger rounded" style="background-color:#ff1744  !important" th:text="${reports}"></span>
                      </a>
                  </li>
              </ul>
          </div>
        </div>
    </nav>
	<div class="container">
			
				<div class="clearfix mt-3">
						<a class="btn btn-primary mt-4 float-left" th:href="@{/employees/showFormForAdd}">
							<i class="fa fa-plus-square p-1"></i>
							Add Employee
						</a>
						<a class="btn btn-warning mt-4 float-right rounded text-white" th:href="@{/employees/all-employees}">
							<!-- <i class="fa fa-plus-square p-1"></i> -->
							<i class="fa fa-list" aria-hidden="true"></i>
							List Employees
						</a>
				</div>

		<table class="table  table-bordered mt-5" style="box-shadow: 0px 2.5px 8px #c1c1c1;">
			<thead class="">
				<tr>
					<th>ID</th>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
					<th>Update</th>
					<th>Delete</th>
				</tr>
			</thead>

			<tbody style="background-color:#F2F2F2">
				<tr th:if="${employees!=null and !employees.isEmpty()}"  th:each="tempEmployee : ${employees}">
					<td th:text="${tempEmployee.id}" />
					<td th:text="${tempEmployee.firstName}" />
					<td th:text="${tempEmployee.lastName}" />
					<td th:text="${tempEmployee.email}" />
					<td>
						<a th:href="@{/employees/edit/{id} (id=${tempEmployee.id})}" class="btn btn-outline-primary btn-sm">
							<i class="fa fa-pencil" aria-hidden="true"></i> Update
						</a>
					</td>
					<td >
						<a th:href="@{/employees/delete/{id}(id=${tempEmployee.id})}" class="btn btn-outline-danger btn-sm delBtn">
							<i class="fa fa-trash-o" aria-hidden="true"></i> Delete
						</a>
					</td>
				</tr>
				
				<tr th:unless="${employees!=null and !employees.isEmpty()}" style="background-color:#F2F2F2">
				<!-- No employee or employees found -->
					<td colspan="6">
						<p class="text-center text-dark">No employee available</p>
					</td>
				</tr>
			</tbody>
		</table>

	<ul class="nav nav-pills mt-5"> 
		<li class="page-item mr-3"><a class="page-link" href="#">Previous</a></li>
		<li th:if="${employees!=null and !employees.isEmpty()}" class="nav-item " th:each="pages : ${#numbers.sequence(0,employees.totalPages-1)}" style="font-size:13px;">
			<a 
			th:href="@{/employees/list(page=${pages})}" 
			th:text="${pages}" class="nav-link" 
			th:classappend="${currentPage}==${pages}?'active':''"></a>
		<li>
		<li class="page-item ml-3"><a class="page-link" href="#">Next</a></li>
	</ul>
	</div>
	
	
	<!-- Modal -->
<div class="modal fade" id="myModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirm</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this employee?</p>
      </div>
      <div class="modal-footer">
        <a  href="" class="btn btn-danger" id="delRef">Delete</a>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>
	

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" ></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script  th:src="@{/js/sb-admin.js}" src="/static/js/sb-admin.js"></script>
</body>
</html>



